# Squid configuration file
http_port 3128

# Define allowed networks (adjust for your LAN)
acl localnet src 192.168.0.0/16
acl localhost src 127.0.0.1/32 ::1

# Allow local access
http_access allow localhost
http_access allow localnet

# Deny all other access
http_access deny all

# Logging
access_log /var/log/squid/access.log squid

# Cache settings
cache_mem 256 MB
maximum_object_size_in_memory 1 MB
cache_dir ufs /var/spool/squid 1000 16 256
maximum_object_size 100 MB

# DNS and refresh
dns_v4_first on
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
